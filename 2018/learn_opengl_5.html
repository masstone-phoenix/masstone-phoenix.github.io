<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="Keywords" content="blog"/>
    <meta name="Description" content="blog"/>
    <title>Simple</title>
    <link rel="shortcut icon" href="/static/favicon.png"/>
    <link rel="stylesheet" type="text/css" href="/main.css" />
</head>
<body>
<div class="main">
    <div class="header">
    	<ul id="pages">
            <li><a href="/">home</a></li>
            <li><a href="/#/tags">tags</a></li>
            <li><a href="/#/archive">archive</a></li>
    	</ul>
    </div>
	<div class="wrap-header">
	<h1>
    <a href="/" id="title"></a>
	</h1>
	</div>
<div id="md" style="display: none;">
<!-- markdown -->
OpenGL是一个3D的图形引擎，这里我们就学习一下如何在3D空间中进行绘制。这里需要用到一些[线性代数](http://open.163.com/special/opencourse/daishu.html)方面的知识，小伙伴们不熟悉的话可以点击学习一下。当然，我假定你已经知道什么是四元数，不了解的可以去google一下，文章很多，这里就不重复写了。

在OpenGL中，如果希望顶点可见，那么在经过vertex shader后，顶点坐标应该在NDC（normalized device coordinates）中。什么是NDC呢？就是x,y,z的坐标都在-1.0到1.0之间；当坐标不在这个范围时，它们将不可见。

将坐标转换到NDC是一个一步一步的过程，它会经过一些中间坐标系：

- Local space (or Object space)
- World space
- View space (or Eye space)
- Clip space

然后从Clip space转换到NDC，从NDC转换到Screen space。这是坐标变换的大体节奏。

你可能有点晕，当时我看到这的时候也是这样，别急让我们一个一个的来看看这些变换以及它们都在做什么。
![](https://learnopengl.com/img/getting-started/coordinate_systems.png)

1. Local coordinates are the coordinates of your object relative to its local origin; they're the coordinates your object begins in.
2. The next step is to transform the local coordinates to world-space coordinates which are coordinates in respect of a larger world. These coordinates are relative to a global origin of the world, together with many other objects also placed relative to the world's origin.
3. Next we transform the world coordinates to view-space coordinates in such a way that each coordinate is as seen from the camera or viewer's point of view.
4. After the coordinates are in view space we want to project them to clip coordinates. Clip coordinates are processed to the -1.0 and 1.0 range and determine which vertices will end up on the screen.
5. And lastly we transform the clip coordinates to screen coordinates in a process we call viewport transform that transforms the coordinates from -1.0 and 1.0 to the coordinate range defined by glViewport. The resulting coordinates are then sent to the rasterizer to turn them into fragments.
<!-- markdown end -->
</div>
<div class="entry" id="main">
<!-- content -->
<p>OpenGL是一个3D的图形引擎，这里我们就学习一下如何在3D空间中进行绘制。这里需要用到一些<a href="http://open.163.com/special/opencourse/daishu.html">线性代数</a>方面的知识，小伙伴们不熟悉的话可以点击学习一下。当然，我假定你已经知道什么是四元数，不了解的可以去google一下，文章很多，这里就不重复写了。</p>

<p>在OpenGL中，如果希望顶点可见，那么在经过vertex shader后，顶点坐标应该在NDC（normalized device coordinates）中。什么是NDC呢？就是x,y,z的坐标都在-1.0到1.0之间；当坐标不在这个范围时，它们将不可见。</p>

<p>将坐标转换到NDC是一个一步一步的过程，它会经过一些中间坐标系：</p>

<ul>
<li>Local space (or Object space)</li>
<li>World space</li>
<li>View space (or Eye space)</li>
<li>Clip space</li>
</ul>

<p>然后从Clip space转换到NDC，从NDC转换到Screen space。这是坐标变换的大体节奏。</p>

<p>你可能有点晕，当时我看到这的时候也是这样，别急让我们一个一个的来看看这些变换以及它们都在做什么。
<img src="https://learnopengl.com/img/getting-started/coordinate_systems.png" alt="" title=""></p>

<ol>
<li>Local coordinates are the coordinates of your object relative to its local origin; they're the coordinates your object begins in.</li>
<li>The next step is to transform the local coordinates to world-space coordinates which are coordinates in respect of a larger world. These coordinates are relative to a global origin of the world, together with many other objects also placed relative to the world's origin.</li>
<li>Next we transform the world coordinates to view-space coordinates in such a way that each coordinate is as seen from the camera or viewer's point of view.</li>
<li>After the coordinates are in view space we want to project them to clip coordinates. Clip coordinates are processed to the -1.0 and 1.0 range and determine which vertices will end up on the screen.</li>
<li>And lastly we transform the clip coordinates to screen coordinates in a process we call viewport transform that transforms the coordinates from -1.0 and 1.0 to the coordinate range defined by glViewport. The resulting coordinates are then sent to the rasterizer to turn them into fragments.</li>
</ol>
<!-- content end -->
</div>
<br>
<br>
    <div id="disqus_thread"></div>
	<div class="footer">
		<p>© Copyright 2014 by isnowfy, Designed by isnowfy</p>
	</div>
</div>
<script src="main.js"></script>
<script id="content" type="text/mustache">
    <h1>{{title}}</h1>
    <div class="tag">
    {{date}}
    {{#tags}}
    <a href="/#/tag/{{name}}">#{{name}}</a>
    {{/tags}}
    </div>
</script>
<script id="pagesTemplate" type="text/mustache">
    {{#pages}}
    <li>
        <a href="{{path}}">{{title}}</a>
    </li>
    {{/pages}}
</script>
<script>
$(document).ready(function() {
    $.ajax({
        url: "main.json",
        type: "GET",
        dataType: "json",
        success: function(data) {
            $("#title").html(data.name);
            var pagesTemplate = Hogan.compile($("#pagesTemplate").html());
            var pagesHtml = pagesTemplate.render({"pages": data.pages});
            $("#pages").append(pagesHtml);
            //path
            var path = "2018/learn_opengl_5.html";
            //path end
            var now = 0;
            for (var i = 0; i < data.posts.length; ++i)
                if (path == data.posts[i].path)
                    now = i;
            var post = data.posts[now];
            var tmp = post.tags.split(" ");
            var tags = [];
            for (var i = 0; i < tmp.length; ++i)
                if (tmp[i].length > 0)
                    tags.push({"name": tmp[i]});
            var contentTemplate = Hogan.compile($("#content").html());
            var contentHtml = contentTemplate.render({"title": post.title, "tags": tags, "date": post.date});
            $("#main").prepend(contentHtml);
            if (data.disqus_shortname.length > 0) {
                var disqus_shortname = data.disqus_shortname;
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            }
        }
    });
});
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ["\\(", "\\)"]], processEscapes: true}});
</script>
</body>
</html>
